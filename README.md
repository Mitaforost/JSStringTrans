# CodeUtilities

## Оглавление
1. [Описание](#описание)
2. [Скрипты](#скрипты)
   - [IDQuoter.py](#idquoterpy)
   - [JSStringTrans.py](#jsstringtranspy)
   - [LessonIDReplacer.py](#lessonidreplacerpy)
3. [Сборка в .exe](#сборка-в-exe)
   - [Windows](#windows)
   - [macOS](#macos)

## IDQuoter.py

### Описание
IDQuoter.py — это утилита для обработки JavaScript-файлов. Скрипт находит все значения ключа `id` в файле и оборачивает их в одинарные кавычки, если они еще не обернуты. Он также игнорирует определенные ключи, такие как `type`, `questionId`, `highlights`, и другие, которые не нуждаются в изменении. Это полезно для стандартизации формата ключей `id` в JSON-объектах внутри JavaScript-кода.

### Возможности
- Находит все значения `id` в JavaScript-файле.
- Оборачивает значения `id` в одинарные кавычки, если они не обернуты.
- Игнорирует ключи, указанные в списке исключений.
- Обрабатывает файлы через диалоговое окно выбора.
- Сохраняет результат в новый файл.

### Установка зависимостей
Перед использованием необходимо установить требуемые библиотеки:

```bash
pip install tqdm
```
### Использование

1. Запустите скрипт:
   ```bash
   python IDQuoter.py
   ```
2. В появившемся окне выберите JavaScript-файл для обработки.
3. Введите имя для выходного файла (например, output.js).
4. Дождитесь завершения обработки. Готовый файл сохранится с выбранным именем.

## JSStringTrans.py

### Описание
`JSStringTrans.py` — это утилита для автоматического перевода строк в JavaScript-файлах с помощью Google Translator. Скрипт анализирует содержимое файла, исключает строки с определёнными ключами, переводит подходящие строки и сохраняет результат в новый файл.

### Возможности
- Переводит текстовые строки в `.js`-файлах.
- Игнорирует строки с определёнными ключами, такими как `type`, `questionId`, `imageUrl` и др.
- Поддерживает работу с escape-последовательностями.
- Исключает URL-адреса из перевода.
- Выводит прогресс перевода.
- Сохраняет результат в новый файл с указанием кода языка.

### Установка зависимостей
Перед использованием необходимо установить требуемые библиотеки:
```bash
pip install deep-translator tqdm
```

### Использование

1. Запустите скрипт:
   ```bash
   python JSStringTrans.py
   ```
2. В появившемся окне выберите JavaScript-файл для перевода. (JS-example)
3. Выберите язык перевода, введя его код (например, es для испанского).
4. Дождитесь завершения перевода. Готовый файл сохранится под именем output_<код_языка>.js, например, output_es.js.

### Поддерживаемые языки
#### Скрипт поддерживает перевод на следующие языки:

- es — Испанский
- fr — Французский
- pt — Португальский
- de — Немецкий
- tr — Турецкий
- it — Итальянский
- cs — Чешский
- ro — Румынский
- pl — Польский
- id — Индонезийский
- ar — Арабский

## LessonIDReplacer.py

### Описание
LessonIDReplacer.py — это утилита для замены идентификаторов уроков в JSON-файлах. Скрипт анализирует содержимое JSON-файла и заменяет все встречающиеся значения, начинающиеся с префикса "LESSONS_ID.", на соответствующие значения из заранее подготовленного словаря. Это может быть полезно при миграции данных или обновлении идентификаторов уроков.

### Возможности
- Рекурсивно обрабатывает JSON-файлы, заменяя идентификаторы уроков.
- Использует словарь для замены значений.
- Поддерживает работу с вложенными структурами данных (словарями и списками).
- Сохраняет изменения в исходном файле.

### Установка зависимостей
Перед использованием необходимо установить необходимые библиотеки:
```bash
pip install tqdm
```
### Использование

1. Запустите скрипт:
   ```bash
   python LessonIDReplacer.py
   ```
2. В появившемся окне выберите JSON-файл, в котором нужно произвести замену идентификаторов уроков.
3. Скрипт автоматически обработает все ключи, начинающиеся с LESSONS_ID., и заменит их на соответствующие значения из словаря. Если ключ не найден в словаре, он останется неизменным.
4. Обработанный файл будет сохранен с тем же именем, и все изменения будут применены.


## Сборка в .exe

### Windows

Для создания `.exe` используйте:

```bash
pip install pyinstaller
```
```bash
pyinstaller --onefile [Название файла скрипта].py
```
#### Пример

```bash
pyinstaller --onefile JSStringTrans.py
```

### macOS

Для создания `.app` используйте:

```bash
pyinstaller --onefile --windowed JSStringTrans.py
```